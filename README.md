# Фильтр желтушных новостей

Программа позволяет оценить степень "желтушности" новостных статей. Для оценки используется список "заряженных" слов -
экспрессивных, ярко-негативных или восторженных слов и фраз. Файлы со списком таких слов лежат в папке `charged_dict`.
По мере развития проекта в эту папку можно складывать новые словари. Алгоритм подсчитывает количество подобных слов в
статье и рассчитывает "рейтинг желтушности".

Пока поддерживается только один новостной сайт - [ИНОСМИ.РУ](https://inosmi.ru/). Для него разработан специальный
адаптер, умеющий выделять текст статьи на фоне остальной HTML разметки. Для других новостных сайтов потребуются новые
адаптеры, все они будут находиться в каталоге `adapters`. Туда же помещен код для сайта
ИНОСМИ.РУ: `adapters/inosmi_ru.py`.

В перспективе можно создать универсальный адаптер, подходящий для всех сайтов, но его разработка будет сложной и
потребует дополнительных времени и сил.

# Как установить

Вам понадобится Python версии 3.7 или старше. Для установки пакетов рекомендуется создать виртуальное окружение.

Первым шагом установите пакеты:

```shell
pip install -r requirements.txt
```

# Как запустить

```shell
python server.py
```
После запуска сервера проверьте его работу, пройдя по ссылке
`http://127.0.0.1:8080/?urls=https://inosmi.ru/economic/20190629/245384784.html,https://inosmi.ru/politic/20190629/245379332.html`
Сервер ответит JSON-ном вида
```json
[
  {
    "url": "https://inosmi.ru/economic/20190629/245384784.html",
    "score": 1.88,
    "words": 744,
    "status": "OK"
  },
  {
    "url": "https://inosmi.ru/politic/20190629/245379332.html",
    "score": 1.48,
    "words": 2372,
    "status": "OK"
  }
]
```
Сервер принимает список статей в виде списка ссылок через запятую в параметре urls. Не более 10 статей в списке


# Как запустить тесты

Для тестирования используется [pytest](https://docs.pytest.org/en/latest/), тестами покрыты фрагменты кода сложные в
отладке: jaundice_rater.py, text_tools.py и адаптеры. Команды для запуска тестов:

```shell
python -m pytest adapters/inosmi_ru.py
```

```shell
python -m pytest text_tools.py
```

```shell
python -m pytest jaundice_rater.py
```

# Цели проекта

Код написан в учебных целях. Это урок из курса по веб-разработке — [Девман](https://dvmn.org).
